\documentclass[main.latex]{subfiles}

\begin{document}

\subproblem{}\label{s2p4c}

If \(\compose{g}{f}\) is injective, what can you say about injectivity of \(f\)
and \(g\)?

\begin{thm}\thlabel{s2p4ct1}
	Given functions \(\mapping{f}{A}{B}\) and \(\mapping{g}{B}{C}\), if
	\(\compose{g}{f}\) is injective, then \(f\) must also be injective.
\end{thm}
\begin{proof}
	Let \(A\), \(B\), and \(C\) be sets. Let \(f\) be a mapping from \(A\)
	to \(B\) and let \(g\) be a mapping from \(B\) to \(C\) such that
	\(\compose{g}{f}\) is injective.

	Suppose \(f\) is not injective. Then there exists some pair \(x\) and
	\(x'\) in \(A\) such that \(f(x) = f(x')\) even though \(x \neq x'\).
	Now by the rule of assignment, we know that \(g(f(x)) = g(f(x'))\). By
	definition of function composition, we see
	\((\compose{g}{f})(x) = (\compose{g}{f})(x')\). By our assumption of the
	injectivity of \(\compose{g}{f}\), this implies \(x = x'\). However,
	this contradicts \(x \neq x'\), which was derived from our supposition.
	So our supposition was false, and \(f\) must be injective.
\end{proof}

\begin{thm}
	Given functions \(\mapping{f}{A}{B}\) and \(\mapping{g}{B}{C}\), if
	\(\compose{g}{f}\) is injective, then \(g\) is not necessarilly also
	injective.
\end{thm}
\begin{proof}
	Choose sets \(A\), \(B\), and \(C\) to all be \(\naturals\). Choose
	\(\mapping{f}{\naturals}{\naturals}\) to be \(f(x) = 2 \times x\), and
	choose \(\mapping{g}{\naturals}{\naturals}\) to be
	\(g(y) = 2 \times \ceil{\frac{y}{2}}\). Note that despite the
	calculation of a value outside \(\naturals\) during the evaluation of
	\(g\), the output is still necessarilly in \(\naturals\).

	Observe that \(g(1) = 2 = g(2)\) even though \(1 \neq 2\). So \(g\) is
	not injective.

	Now we can construct the function composition, which by definition would
	be
	\((\compose{g}{f})(x) = g(f(x)) = 2 \times \ceil{\frac{2 \times x}{2}} = 2 \times \ceil{x}\).
	As we know all inputs to \(\compose{g}{f}\) will have integer values, we
	can further simplify to \((\compose{g}{f})(x) = 2 \times x\). Now we
	must determine if \(\compose{g}{f}\) is injective.

	Suppose \(\compose{g}{f}\) is not injective. Then there must exist some
	pair \(x\) and \(x'\) in \(\naturals\) such that
	\((\compose{g}{f})(x) = (\compose{g}{f})(x')\) even though
	\(x \neq x'\). By substitution, we can rewrite
	\((\compose{g}{f})(x) = (\compose{g}{f})(x')\) as
	\(2 \times x = 2 \times x'\). Dividing both sides of this equation by 2,
	we have \(x = x'\). However, this contradicts \(x \neq x'\), which we
	have already established from our supposition. So our supposition must
	be false, and \(\compose{g}{f}\) is injective.

	As we have made valid choices for \(f\) and \(g\) such that
	\(\compose{g}{f}\) is injective and \(g\) is not injective, we have
	demonstrated that the injectivity of \(\compose{g}{f}\) is insufficient
	for the injectivity of \(g\).
\end{proof}

\begin{thm}
	Given functions \(\mapping{f}{A}{B}\) and \(\mapping{g}{B}{C}\), if
	\(\compose{g}{f}\) is injective, then \(g\) is injective on the image of
	\(A\) under \(f\).
\end{thm}
\begin{proof}
	Let \(A\), \(B\), and \(C\) be sets. Let \(f\) be a mapping from \(A\)
	to \(B\) and let \(g\) be a mapping from \(B\) to \(C\) such that
	\(\compose{g}{f}\) is injective. Note that, for \(x\) and \(x'\) in
	\(A\), if \(x \neq x'\) then
	\((\compose{g}{f})(x) \neq (\compose{g}{f})(x')\) as this is the
	contrapositive of the injectivity of \(\compose{g}{f}\).

	Assume \(x\) and \(x'\) are in \(A\) such that \(f(x) \neq f(x')\). Now
	\(x = x'\) would contradict \(f(x) \neq f(x')\) by the rule of
	assignment, so we know \(x \neq x'\). Recalling the note about the
	contrapositive of injectivity, we have that
	\((\compose{g}{f})(x) \neq (\compose{g}{f})(x')\) by modus ponens.

	Suppose \(g(f(x)) = g(f(x'))\). By the definition of function
	composition, we see \((\compose{g}{f})(x) = (\compose{g}{f})(x')\).
	However, this contradicts
	\((\compose{g}{f})(x) \neq (\compose{g}{f})(x')\), which we showed
	follows from our assumptions. So our supposition is false, and
	\(g(f(x)) \neq g(f(x'))\). Since we have shown that \(f(x) \neq f(x')\)
	implies \(g(f(x)) \neq g(f(x'))\), we also know \(g(f(x)) = g(f(x'))\)
	implies \(f(x) = f(x')\) by contraposition. Therefore \(g\) is
	injective on the image of \(A\) under \(f\).
\end{proof}

\end{document}
